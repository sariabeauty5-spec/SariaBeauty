const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-CIA88868.js","assets/vendor-D_eNeWdO.js","assets/i18n-PYB7o98L.js","assets/rolldown-runtime-BgAqdD8a.js","assets/motion-Q_hw2Ya2.js","assets/ProductDetails-B1prjque.js","assets/Login-DiA78Uvx.js","assets/useAuth-CQSRYPa0.js","assets/Register-B5FmdGi0.js","assets/Cart-D9pDw5tc.js","assets/Checkout-qfjemKT9.js","assets/OrderDetails-BRFTsL97.js","assets/ProfileScreen-C48TEEdq.js","assets/OrderSuccessScreen-CJKR4Gza.js","assets/AdminDashboard-qEcv6-nr.js","assets/About-CU9SZ001.js","assets/Contact-DVTj8o3L.js","assets/Shop-Bl5NAq5m.js","assets/Reviews-DwBCPUTq.js"])))=>i.map(i=>d[i]);
import{o as e}from"./rolldown-runtime-BgAqdD8a.js";import{a as t,n as s,r,t as a}from"./motion-Q_hw2Ya2.js";import{B as o,D as n,E as l,F as i,L as c,R as d,S as x,V as m,W as u,c as h,ct as p,d as g,dt as y,ft as f,h as b,ht as j,l as v,lt as N,mt as w,p as _,pt as k,q as C,st as E,u as S,ut as A,vt as I,w as D,yt as O}from"./vendor-D_eNeWdO.js";import{a as R,i as P,n as L,o as T,r as z,t as U}from"./i18n-PYB7o98L.js";import{t as V}from"./ui-De3C3Gnn.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var $=e(O(),1),q=e(t(),1),F=g.create({baseURL:"http://localhost:5001/api"}),B=r();const K=(0,q.createContext)(),W=({children:e})=>{const{t:t}=E(),[s,r]=(0,q.useState)((()=>{const e=localStorage.getItem("userInfo");return e?JSON.parse(e):null})),a=(o=I((function*(e,s){try{const{data:a}=yield F.post("/users/login",{email:e,password:s});return r(a),localStorage.setItem("userInfo",JSON.stringify(a)),S.success(t("auth.welcome_back",{name:a.name})),{success:!0}}catch(o){var a;const e=(null===(a=o.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||t("auth.login_failed");return S.error(e),{success:!1,message:e}}})),function(e,t){return o.apply(this,arguments)});var o;const n=(l=I((function*(e,s,a){try{const{data:o}=yield F.post("/users",{name:e,email:s,password:a});return r(o),localStorage.setItem("userInfo",JSON.stringify(o)),S.success(t("auth.account_created")),{success:!0}}catch(n){var o;const e=(null===(o=n.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.message)||t("auth.registration_failed");return S.error(e),{success:!1,message:e}}})),function(e,t,s){return l.apply(this,arguments)});var l;return(0,B.jsx)(K.Provider,{value:{user:s,login:a,register:n,logout:()=>{localStorage.removeItem("userInfo"),r(null),S.success(t("auth.logged_out"))},updateUser:e=>{r(e),localStorage.setItem("userInfo",JSON.stringify(e))},loading:!1},children:e})},J=()=>{const e=q.useContext(K);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e};T();const H=(0,q.createContext)(),Y=({children:e})=>{const[t,s]=(0,q.useState)((()=>{const e=localStorage.getItem("cartItems");return e?JSON.parse(e):[]}));(0,q.useEffect)((()=>{localStorage.setItem("cartItems",JSON.stringify(t))}),[t]);const r=t.reduce(((e,t)=>e+t.qty),0);return(0,B.jsx)(H.Provider,{value:{cartItems:t,addToCart:(e,r=1)=>{const a=t.find((t=>t._id===e._id));s(a?t.map((e=>e._id===a._id?R(R({},e),{},{qty:e.qty+r}):e)):[...t,R(R({},e),{},{qty:r})]),S.success(`${e.name} added to cart`)},incrementQty:e=>{const r=t.find((t=>t._id===e));s(t.map((t=>t._id===e?R(R({},t),{},{qty:t.qty+1}):t))),r&&S.success(`Quantity updated for ${r.name}`,{id:`qty-${e}`})},decrementQty:e=>{const r=t.find((t=>t._id===e));r&&(r.qty<=1?(s(t.filter((t=>t._id!==e))),S.success(`${r.name} removed from cart`)):(s(t.map((t=>t._id===e?R(R({},t),{},{qty:t.qty-1}):t))),S.success(`Quantity updated for ${r.name}`,{id:`qty-${e}`})))},removeFromCart:e=>{const r=t.find((t=>t._id===e));s(t.filter((t=>t._id!==e))),r&&S.success(`${r.name} removed from cart`)},clearCart:()=>{s([])},cartCount:r},children:e})},M=()=>{const e=q.useContext(H);if(!e)throw new Error("useCart must be used inside CartProvider");return e},Q=()=>(0,q.useContext)(H);var G=(0,q.createContext)(),X={AED:"د.إ",USD:"$",EUR:"€"};const Z=({children:e})=>{const{i18n:t}=E(),[s,r]=(0,q.useState)((()=>localStorage.getItem("currency")||"AED"));(0,q.useEffect)((()=>{localStorage.setItem("currency",s)}),[s]);const a={USD:1,AED:3.67,EUR:.92};return(0,B.jsx)(G.Provider,{value:{currency:s,setCurrency:r,formatPrice:e=>{if(null==e)return"";const r=Number(e);if(isNaN(r))return e;const o=r*a[s];let n=X[s];return"AED"===s&&"ar"!==t.language&&(n="AED"),`${n} ${o.toFixed(2)}`},rates:a,symbols:X},children:e})},ee=()=>{const e=(0,q.useContext)(G);if(!e)throw new Error("useCurrency must be used within a CurrencyProvider");return e};var te=({onClose:e})=>{const{t:t}=E(),[s,r]=(0,q.useState)(""),[a,o]=(0,q.useState)([]),[l,i]=(0,q.useState)(!1);(0,q.useEffect)((()=>{var e;s.length>2?(e=I((function*(){i(!0);try{const{data:e}=yield F.get(`/products?search=${s}`);o(e)}catch(e){}finally{i(!1)}})),function(){return e.apply(this,arguments)})():o([])}),[s]);const c=e=>{if(!e)return"";const t=e.toLowerCase();return t.startsWith("http")||t.startsWith("data:")||t.startsWith("/")?e:`/images/${e}`};return(0,B.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-start justify-center p-4",onClick:e,children:(0,B.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl mt-16 relative",onClick:e=>e.stopPropagation(),children:[(0,B.jsxs)("div",{className:"p-6 border-b border-gray-200 relative",children:[(0,B.jsx)(n,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,B.jsx)("input",{type:"text",value:s,onChange:e=>r(e.target.value),placeholder:t("search.placeholder"),className:"input w-full pl-12 text-lg bg-transparent focus:ring-0 border-0",autoFocus:!0}),(0,B.jsx)("button",{onClick:e,className:"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-700",children:(0,B.jsx)(_,{className:"w-6 h-6"})})]}),(0,B.jsxs)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[l&&(0,B.jsx)("p",{className:"text-center text-gray-500",children:t("search.loading")}),!l&&0===a.length&&s.length>2&&(0,B.jsx)("p",{className:"text-center text-gray-500",children:t("search.no_results",{query:s})}),(0,B.jsx)("div",{className:"space-y-4",children:a.map((t=>(0,B.jsxs)(A,{to:`/product/${t._id}`,onClick:e,className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,B.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-50 to-gray-100 rounded-md flex items-center justify-center shadow-inner",children:(0,B.jsx)("img",{src:c(t.image),alt:t.name,className:"w-14 h-14 object-contain transition-all duration-300 hover:scale-105"})}),(0,B.jsxs)("div",{className:"flex-1",children:[(0,B.jsx)("h3",{className:"font-semibold text-gray-800",children:t.name}),(0,B.jsxs)("p",{className:"text-sm text-gray-500",children:["$",t.price]})]})]},t._id)))})]})]})})},se=({isOpen:e,onClose:t,onConfirm:r,title:o,message:n,icon:l})=>{const{t:i}=E(),c=l||m;return(0,B.jsx)(s,{children:e&&(0,B.jsx)(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",onClick:t,children:(0,B.jsx)(a.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-xl w-full max-w-md relative",onClick:e=>e.stopPropagation(),children:(0,B.jsxs)("div",{className:"p-8 text-center",children:[(0,B.jsx)("div",{className:"w-16 h-16 rounded-full bg-rose-100 flex items-center justify-center mx-auto mb-6",children:(0,B.jsx)(c,{className:"w-8 h-8 text-primary"})}),(0,B.jsx)("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:o}),(0,B.jsx)("p",{className:"text-gray-600 mb-8",children:n}),(0,B.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,B.jsx)("button",{onClick:t,className:"btn bg-gray-200 text-gray-800 hover:bg-gray-300 rounded-full px-8 py-3 font-semibold",children:i("common.cancel")}),(0,B.jsx)("button",{onClick:r,className:"btn btn-primary rounded-full px-8 py-3 font-semibold",children:i("common.confirm")})]})]})})})})},re=()=>{const{i18n:e}=E(),{user:t,logout:r}=J(),{cartCount:o}=Q(),{currency:l,setCurrency:i}=ee(),[c,x]=(0,q.useState)(!1),[u,h]=(0,q.useState)(!1),[p,g]=(0,q.useState)(!1),[f,j]=(0,q.useState)(!1),v="/assets/logoSaaria_page-0001-removebg-preview-C1FYfqQ6.png";(0,q.useEffect)((()=>{const e=()=>{j(window.scrollY>10)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)}),[]);const N=t=>{e.changeLanguage(t),document.dir="ar"===t?"rtl":"ltr"},w=(0,q.useMemo)((()=>[{to:"/",labelKey:"nav.home"},{to:"/shop",labelKey:"nav.shop"},{to:"/reviews",labelKey:"nav.reviews"},{to:"/about",labelKey:"nav.about"},{to:"/contact",labelKey:"nav.contact"},...(null==t?void 0:t.isAdmin)?[{to:"/admin",labelKey:"nav.admin"}]:[]]),[null==t?void 0:t.isAdmin]);return(0,B.jsxs)("header",{className:V("sticky top-0 z-50 transition-all duration-200",f?"bg-white/90 shadow-sm border-b border-rose-100":"bg-transparent border-b border-transparent"),children:[(0,B.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,B.jsx)("button",{type:"button","aria-label":"Open menu","aria-expanded":c,"aria-controls":"mobile-menu",onClick:()=>x(!0),className:"md:hidden text-gray-700 hover:text-gray-900 hover:bg-rose-50 transition-colors rounded-xl p-2 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2",children:(0,B.jsx)(d,{className:"w-6 h-6"})}),(0,B.jsx)(A,{to:"/",className:"flex items-center",children:v?(0,B.jsx)("img",{src:v,alt:"Saria Beauty",className:"h-10 w-auto object-contain",loading:"eager"}):(0,B.jsx)("span",{className:"text-3xl font-serif font-bold text-primary tracking-wide",children:"SARIA BEAUTY"})}),(0,B.jsx)("nav",{className:"hidden md:flex space-x-2 rtl:space-x-reverse",children:w.map((t=>(0,B.jsx)(y,{to:t.to,className:({isActive:e})=>V("px-4 py-2 rounded-full text-sm font-semibold transition-all duration-300",e?"bg-rose-100 text-primary":"text-gray-600 hover:bg-rose-50 hover:text-primary"),children:e.t(t.labelKey)},t.to)))}),(0,B.jsxs)("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[(0,B.jsxs)("div",{className:"hidden md:flex items-center space-x-2 rtl:space-x-reverse text-sm font-medium",children:[(0,B.jsx)("button",{onClick:()=>N("en"),className:"hover:text-primary "+("en"===e.language?"text-primary":"text-gray-500"),children:"EN"}),(0,B.jsx)("span",{className:"text-gray-300",children:"|"}),(0,B.jsx)("button",{onClick:()=>N("fr"),className:"hover:text-primary "+("fr"===e.language?"text-primary":"text-gray-500"),children:"FR"}),(0,B.jsx)("span",{className:"text-gray-300",children:"|"}),(0,B.jsx)("button",{onClick:()=>N("ar"),className:"hover:text-primary "+("ar"===e.language?"text-primary":"text-gray-500"),children:"AR"})]}),(0,B.jsxs)("div",{className:"hidden md:flex items-center space-x-2 rtl:space-x-reverse text-sm font-medium border-l border-r px-3 border-gray-200",dir:"ltr",children:[(0,B.jsx)("button",{onClick:()=>i("AED"),className:"hover:text-primary "+("AED"===l?"text-primary":"text-gray-500"),children:"AED"}),(0,B.jsx)("span",{className:"text-gray-300",children:"|"}),(0,B.jsx)("button",{onClick:()=>i("USD"),className:"hover:text-primary "+("USD"===l?"text-primary":"text-gray-500"),children:"$"}),(0,B.jsx)("span",{className:"text-gray-300",children:"|"}),(0,B.jsx)("button",{onClick:()=>i("EUR"),className:"hover:text-primary "+("EUR"===l?"text-primary":"text-gray-500"),children:"€"})]}),(0,B.jsx)(a.button,{whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},type:"button",onClick:()=>h(!0),className:"text-gray-700 hover:text-gray-900 hover:bg-rose-50 transition-colors rounded-xl p-2",children:(0,B.jsx)(n,{className:"w-5 h-5"})}),t?(0,B.jsxs)("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[(0,B.jsx)(a.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,B.jsx)(A,{to:"/profile",className:"text-gray-700 hover:text-gray-900 hover:bg-rose-50 transition-colors rounded-xl p-2 block",title:"Profile",children:(0,B.jsx)(b,{className:"w-5 h-5"})})}),(0,B.jsx)("span",{className:"text-sm font-medium text-primary hidden md:block",children:t.name}),(0,B.jsx)(a.button,{whileHover:{scale:1.1,rotate:-5},whileTap:{scale:.9},onClick:()=>g(!0),className:"text-gray-700 hover:text-gray-900 hover:bg-rose-50 transition-colors rounded-xl p-2",title:"Logout",children:(0,B.jsx)(m,{className:"w-5 h-5"})})]}):(0,B.jsx)(a.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,B.jsx)(A,{to:"/login",className:"text-gray-700 hover:text-gray-900 hover:bg-rose-50 transition-colors rounded-xl p-2 block",children:(0,B.jsx)(b,{className:"w-5 h-5"})})}),(0,B.jsx)(a.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"relative",children:(0,B.jsxs)(A,{to:"/cart",className:"text-gray-700 hover:text-gray-900 hover:bg-rose-50 transition-colors rounded-xl p-2 block",children:[(0,B.jsx)(D,{className:"w-5 h-5"}),o>0&&(0,B.jsx)(a.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"absolute -top-1 -right-1 bg-primary text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center",children:o})]})})]})]}),(0,B.jsx)(s,{children:u&&(0,B.jsx)(te,{onClose:()=>h(!1)})}),(0,B.jsx)(se,{isOpen:p,onClose:()=>g(!1),onConfirm:()=>{r(),g(!1)},title:e.t("confirm.logout_title"),message:e.t("confirm.logout_message")}),(0,B.jsx)(s,{children:c&&(0,B.jsxs)(a.div,{className:"fixed inset-0 z-50 md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,B.jsx)(a.button,{type:"button","aria-label":"Close menu",className:"absolute inset-0 bg-black/30",onClick:()=>x(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),(0,B.jsxs)(a.div,{id:"mobile-menu",className:"absolute top-0 left-0 right-0 bg-white/90 backdrop-blur-xl border-b border-rose-100 shadow-lg",initial:{y:-16,opacity:0},animate:{y:0,opacity:1},exit:{y:-16,opacity:0},transition:{duration:.25,ease:"easeOut"},children:[(0,B.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,B.jsx)(A,{to:"/",className:"flex items-center",onClick:()=>x(!1),children:v?(0,B.jsx)("img",{src:v,alt:"Saria Beauty",className:"h-9 w-auto object-contain"}):(0,B.jsx)("span",{className:"text-2xl font-serif font-bold text-primary tracking-wide",children:"SARIA BEAUTY"})}),(0,B.jsx)("button",{type:"button","aria-label":"Close menu",onClick:()=>x(!1),className:"text-gray-700 hover:text-gray-900 hover:bg-rose-50 transition-colors rounded-xl p-2",children:(0,B.jsx)(_,{className:"w-6 h-6"})})]}),(0,B.jsxs)("div",{className:"container mx-auto px-4 pb-6",children:[(0,B.jsx)("nav",{className:"grid gap-2",children:w.map((t=>(0,B.jsx)(y,{to:t.to,onClick:()=>x(!1),className:({isActive:e})=>V("rounded-2xl px-4 py-3 text-base font-medium transition-colors",e?"bg-rose-50 text-gray-900 ring-1 ring-rose-200/70":"text-gray-700 hover:bg-rose-50"),children:e.t(t.labelKey)},t.to)))}),(0,B.jsxs)("div",{className:"mt-6 flex flex-col gap-4",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium",children:[(0,B.jsx)("button",{onClick:()=>N("en"),className:V("px-3 py-2 rounded-full transition-colors","en"===e.language?"bg-rose-50 text-gray-900 ring-1 ring-rose-200/70":"text-gray-600 hover:bg-rose-50"),children:"EN"}),(0,B.jsx)("button",{onClick:()=>N("fr"),className:V("px-3 py-2 rounded-full transition-colors","fr"===e.language?"bg-rose-50 text-gray-900 ring-1 ring-rose-200/70":"text-gray-600 hover:bg-rose-50"),children:"FR"}),(0,B.jsx)("button",{onClick:()=>N("ar"),className:V("px-3 py-2 rounded-full transition-colors","ar"===e.language?"bg-rose-50 text-gray-900 ring-1 ring-rose-200/70":"text-gray-600 hover:bg-rose-50"),children:"AR"})]}),(0,B.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium",dir:"ltr",children:[(0,B.jsx)("button",{onClick:()=>i("AED"),className:V("px-3 py-2 rounded-full transition-colors","AED"===l?"bg-rose-50 text-gray-900 ring-1 ring-rose-200/70":"text-gray-600 hover:bg-rose-50"),children:"AED"}),(0,B.jsx)("button",{onClick:()=>i("USD"),className:V("px-3 py-2 rounded-full transition-colors","USD"===l?"bg-rose-50 text-gray-900 ring-1 ring-rose-200/70":"text-gray-600 hover:bg-rose-50"),children:"$"}),(0,B.jsx)("button",{onClick:()=>i("EUR"),className:V("px-3 py-2 rounded-full transition-colors","EUR"===l?"bg-rose-50 text-gray-900 ring-1 ring-rose-200/70":"text-gray-600 hover:bg-rose-50"),children:"€"})]})]}),(0,B.jsx)("div",{className:"flex items-center justify-between",children:t?(0,B.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,B.jsx)(A,{to:"/profile",onClick:()=>x(!1),className:"flex-1 text-center rounded-full px-4 py-2 bg-white text-gray-800 ring-1 ring-gray-200 shadow-sm hover:bg-rose-50",children:"Profile"}),(0,B.jsx)("button",{onClick:()=>{x(!1),g(!0)},className:"flex-1 rounded-full px-4 py-2 bg-primary text-white shadow-sm hover:bg-rose-700",children:"Logout"})]}):(0,B.jsx)(A,{to:"/login",onClick:()=>x(!1),className:"w-full text-center rounded-full px-4 py-2 bg-primary text-white shadow-sm hover:bg-rose-700",children:"Sign in"})})]})]})]})]})})]})},ae=()=>{const{user:e}=J(),[t,s]=(0,q.useState)(!1),[r,a]=(0,q.useState)([{text:"",sender:"ai"}]),[o,n]=(0,q.useState)(""),[d,m]=(0,q.useState)(!1),[u,h]=(0,q.useState)([]),[p,g]=(0,q.useState)(null),y=(0,q.useRef)(null),{i18n:f,t:b}=E(),[j]=(0,q.useState)((()=>"session_"+Math.random().toString(36).substr(2,9))),[,v]=(0,q.useState)(null),N=(0,q.useCallback)((()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[]);(0,q.useEffect)((()=>{t&&(a([{text:b("chat.greeting"),sender:"ai"}]),N())}),[t,b,N]),(0,q.useEffect)((()=>{if(!t)return;let e;try{e=new EventSource("http://localhost:5001/api/chat/events")}catch(s){return}return e.onmessage=e=>{try{const t=JSON.parse(e.data);"assistant"===t.channel&&"notification"===t.type&&(a((e=>[...e,{text:t.message,sender:"ai",type:"notification",timestamp:new Date}])),N())}catch(t){}},e.onerror=()=>{e.close()},v(e),()=>{e.close(),v(null)}}),[t,N]);const w=(k=I((function*(){if(!o.trim()||d)return;const t={text:o,sender:"user"};a((e=>[...e,t])),n(""),m(!0);try{const t=yield F.post("/chat",{message:o,sessionId:j,context:p,lang:f.language,userId:null==e?void 0:e._id}),s={text:t.data.response,sender:"ai",context:t.data.context};a((e=>[...e,s])),t.data.suggestions&&h(t.data.suggestions),t.data.context&&g(t.data.context)}catch(s){a((e=>[...e,{text:b("chat.error"),sender:"ai"}]))}finally{m(!1),N()}})),function(){return k.apply(this,arguments)});var k;return t?(0,B.jsxs)("div",{className:"fixed bottom-6 right-6 w-80 h-96 bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col z-50",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-primary to-purple-600 rounded-t-2xl",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(x,{className:"w-5 h-5 text-white"}),(0,B.jsx)("h3",{className:"font-semibold text-white",children:b("chat.title")})]}),(0,B.jsxs)("div",{className:"flex gap-1",children:[(0,B.jsx)("button",{onClick:()=>s(!1),className:"text-white hover:text-gray-200 transition-colors p-1 rounded","aria-label":"Minimize chat",children:(0,B.jsx)(i,{className:"w-4 h-4"})}),(0,B.jsx)("button",{onClick:()=>s(!1),className:"text-white hover:text-gray-200 transition-colors p-1 rounded","aria-label":"Close chat",children:(0,B.jsx)(_,{className:"w-4 h-4"})})]})]}),(0,B.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[r.map(((e,t)=>(0,B.jsx)("div",{className:"flex "+("user"===e.sender?"justify-end":"justify-start"),children:(0,B.jsx)("div",{className:"max-w-[70%] p-3 rounded-2xl "+("user"===e.sender?"bg-primary text-white rounded-br-sm":"bg-gray-100 text-gray-800 rounded-bl-sm"),children:(0,B.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.text})})},t))),d&&(0,B.jsx)("div",{className:"flex justify-start",children:(0,B.jsx)("div",{className:"bg-gray-100 text-gray-800 p-3 rounded-2xl rounded-bl-sm",children:(0,B.jsxs)("div",{className:"flex space-x-1",children:[(0,B.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,B.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"}),(0,B.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"})]})})}),(0,B.jsx)("div",{ref:y})]}),u.length>0&&(0,B.jsx)("div",{className:"p-3 border-t border-gray-100",children:(0,B.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map(((e,t)=>(0,B.jsx)("button",{onClick:()=>(e=>{n(e)})(e),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 text-xs rounded-full transition-colors",children:e},t)))})}),(0,B.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,B.jsxs)("div",{className:"flex gap-2",children:[(0,B.jsx)("input",{type:"text",value:o,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w())},placeholder:b("chat.placeholder"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent text-sm"}),(0,B.jsx)("button",{onClick:w,disabled:!o.trim()||d,className:"bg-primary hover:bg-primary/90 disabled:bg-gray-300 disabled:cursor-not-allowed text-white p-2 rounded-xl transition-colors","aria-label":"Send message",children:(0,B.jsx)(l,{className:"w-4 h-4"})})]})})]}):(0,B.jsx)("button",{onClick:()=>s(!0),className:"fixed bottom-6 right-6 bg-primary hover:bg-primary/90 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 z-50 group","aria-label":"Open chat",children:(0,B.jsx)(c,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})})};const oe={instagram:{url:"https://instagram.com/sariabeauty.ma",username:"@sariabeauty.ma",displayName:"Instagram"},facebook:{url:"https://facebook.com/sariabeauty.ma",username:"sariabeauty.ma",displayName:"Facebook"},whatsapp:{url:"https://wa.me/212600000000",phoneNumber:"+212600000000",displayName:"WhatsApp"}},ne=e=>{var t;return(null===(t=oe[e])||void 0===t?void 0:t.url)||"#"};var le=()=>{const{t:e}=E(),t=e=>{v.success(`Opening ${e} in a new tab...`)};return(0,B.jsx)("footer",{className:"bg-rose-50/50 border-t border-rose-100",children:(0,B.jsxs)("div",{className:"container mx-auto px-4 pt-16 pb-8",children:[(0,B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8",children:[(0,B.jsxs)("div",{className:"md:col-span-4",children:[(0,B.jsx)(A,{to:"/",className:"text-2xl font-serif font-bold text-primary tracking-wide",children:"SARIA BEAUTY"}),(0,B.jsx)("p",{className:"mt-4 text-gray-600 max-w-xs",children:e("footer.paragraph")}),(0,B.jsxs)("div",{className:"mt-6 flex items-center space-x-4 rtl:space-x-reverse",children:[(0,B.jsx)("a",{href:ne("instagram"),target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"text-gray-500 hover:text-primary transition-colors",onClick:()=>t("Instagram"),children:(0,B.jsx)(u,{})}),(0,B.jsx)("a",{href:ne("facebook"),target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"text-gray-500 hover:text-primary transition-colors",onClick:()=>t("Facebook"),children:(0,B.jsx)(C,{})}),(0,B.jsx)("a",{href:ne("whatsapp"),target:"_blank",rel:"noopener noreferrer","aria-label":"WhatsApp",className:"text-gray-500 hover:text-primary transition-colors",onClick:()=>t("WhatsApp"),children:(0,B.jsx)(c,{})})]})]}),(0,B.jsxs)("div",{className:"md:col-span-2",children:[(0,B.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:e("footer.navigation")}),(0,B.jsxs)("ul",{className:"space-y-3 text-gray-600",children:[(0,B.jsx)("li",{children:(0,B.jsx)(A,{to:"/shop",className:"hover:text-primary transition-colors",children:e("footer.shop")})}),(0,B.jsx)("li",{children:(0,B.jsx)(A,{to:"/about",className:"hover:text-primary transition-colors",children:e("footer.about")})}),(0,B.jsx)("li",{children:(0,B.jsx)(A,{to:"/contact",className:"hover:text-primary transition-colors",children:e("footer.contact")})}),(0,B.jsx)("li",{children:(0,B.jsx)(A,{to:"/reviews",className:"hover:text-primary transition-colors",children:e("footer.reviews")})})]})]}),(0,B.jsxs)("div",{className:"md:col-span-2",children:[(0,B.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:e("footer.support")}),(0,B.jsxs)("ul",{className:"space-y-3 text-gray-600",children:[(0,B.jsx)("li",{children:(0,B.jsx)(A,{to:"/profile",className:"hover:text-primary transition-colors",children:e("footer.my_account")})}),(0,B.jsx)("li",{children:(0,B.jsx)(A,{to:"/cart",className:"hover:text-primary transition-colors",children:e("footer.cart")})}),(0,B.jsx)("li",{children:(0,B.jsx)(A,{to:"#",className:"hover:text-primary transition-colors",children:e("footer.faq")})})]})]}),(0,B.jsxs)("div",{className:"md:col-span-4",children:[(0,B.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:e("footer.newsletter_title")}),(0,B.jsx)("p",{className:"text-gray-600 mb-4",children:e("footer.newsletter_desc")}),(0,B.jsxs)("form",{className:"flex",children:[(0,B.jsx)("input",{type:"email",placeholder:e("footer.email_placeholder"),className:"input rounded-r-none flex-grow"}),(0,B.jsx)("button",{className:"btn btn-primary rounded-l-none",children:(0,B.jsx)(o,{className:"w-5 h-5"})})]})]})]}),(0,B.jsxs)("div",{className:"mt-12 pt-8 border-t border-rose-200/50 flex flex-col md:flex-row items-center justify-between text-sm text-gray-500",children:[(0,B.jsxs)("p",{children:["© ",(new Date).getFullYear()," Saria Beauty. ",e("footer.rights")]}),(0,B.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center space-x-6 rtl:space-x-reverse",children:[(0,B.jsx)(A,{to:"#",className:"hover:text-primary transition-colors",children:e("footer.privacy")}),(0,B.jsx)(A,{to:"#",className:"hover:text-primary transition-colors",children:e("footer.terms")})]})]})]})})},ie=({children:e})=>{const{user:t,loading:s}=J();return s?null:t?t.isAdmin?e:(0,B.jsx)(f,{to:"/",replace:!0}):(0,B.jsx)(f,{to:"/login",replace:!0})},ce=(0,q.lazy)((()=>P((()=>import("./Home-CIA88868.js")),__vite__mapDeps([0,1,2,3,4])))),de=(0,q.lazy)((()=>P((()=>import("./ProductDetails-B1prjque.js")),__vite__mapDeps([5,1,2,3,4])))),xe=(0,q.lazy)((()=>P((()=>import("./Login-DiA78Uvx.js")),__vite__mapDeps([6,1,2,3,4,7])))),me=(0,q.lazy)((()=>P((()=>import("./Register-B5FmdGi0.js")),__vite__mapDeps([8,1,2,3,4,7])))),ue=(0,q.lazy)((()=>P((()=>import("./Cart-D9pDw5tc.js")),__vite__mapDeps([9,1,2,3,4])))),he=(0,q.lazy)((()=>P((()=>import("./Checkout-qfjemKT9.js")),__vite__mapDeps([10,1,2,3,4,7])))),pe=(0,q.lazy)((()=>P((()=>import("./OrderDetails-BRFTsL97.js")),__vite__mapDeps([11,1,2,3,4])))),ge=(0,q.lazy)((()=>P((()=>import("./ProfileScreen-C48TEEdq.js")),__vite__mapDeps([12,1,2,3,4,7])))),ye=(0,q.lazy)((()=>P((()=>import("./OrderSuccessScreen-CJKR4Gza.js")),__vite__mapDeps([13,1,2,3,4])))),fe=(0,q.lazy)((()=>P((()=>import("./AdminDashboard-qEcv6-nr.js")),__vite__mapDeps([14,1,2,3,4])))),be=(0,q.lazy)((()=>P((()=>import("./About-CU9SZ001.js")),__vite__mapDeps([15,1,2,3,4])))),je=(0,q.lazy)((()=>P((()=>import("./Contact-DVTj8o3L.js")),__vite__mapDeps([16,1,2,3,4])))),ve=(0,q.lazy)((()=>P((()=>import("./Shop-Bl5NAq5m.js")),__vite__mapDeps([17,1,2,3,4])))),Ne=(0,q.lazy)((()=>P((()=>import("./Reviews-DwBCPUTq.js")),__vite__mapDeps([18,1,2,3,4])))),we=({t:e})=>(0,B.jsx)("main",{children:(0,B.jsxs)("div",{className:"container mx-auto px-4 py-24 text-center",children:[(0,B.jsx)("h2",{className:"text-4xl font-serif text-gray-900 mb-4",children:e("not_found.title")}),(0,B.jsx)("p",{className:"text-gray-600 mb-8",children:e("not_found.message")}),(0,B.jsx)(A,{to:"/",className:"btn btn-primary inline-flex",children:e("not_found.back_home")})]})}),_e=()=>j().pathname.startsWith("/admin")?null:(0,B.jsx)(le,{});var ke=function(){const{i18n:e,t:t}=E();return(0,q.useEffect)((()=>{document.dir="ar"===e.language?"rtl":"ltr"}),[e.language]),(0,B.jsxs)(N,{children:[(0,B.jsx)(h,{position:"top-right",reverseOrder:!1,toastOptions:{className:"glass-toast",style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(183, 110, 121, 0.2)",padding:"16px 24px",color:"#1f2937",borderRadius:"24px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.05)",fontSize:"14px",fontWeight:"500",maxWidth:"400px"},success:{iconTheme:{primary:"#B76E79",secondary:"#fff"},style:{borderLeft:"4px solid #B76E79"}},error:{iconTheme:{primary:"#e11d48",secondary:"#fff"},style:{borderLeft:"4px solid #e11d48"}}}}),(0,B.jsxs)("div",{className:"min-h-screen font-sans",children:[(0,B.jsx)(re,{}),(0,B.jsx)(ae,{}),(0,B.jsx)(q.Suspense,{fallback:(0,B.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,B.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),children:(0,B.jsxs)(w,{children:[(0,B.jsx)(k,{path:"/",element:(0,B.jsx)(ce,{})}),(0,B.jsx)(k,{path:"/product/:id",element:(0,B.jsx)(de,{})}),(0,B.jsx)(k,{path:"/login",element:(0,B.jsx)(xe,{})}),(0,B.jsx)(k,{path:"/register",element:(0,B.jsx)(me,{})}),(0,B.jsx)(k,{path:"/cart",element:(0,B.jsx)(ue,{})}),(0,B.jsx)(k,{path:"/checkout",element:(0,B.jsx)(he,{})}),(0,B.jsx)(k,{path:"/order/:id",element:(0,B.jsx)(pe,{})}),(0,B.jsx)(k,{path:"/profile",element:(0,B.jsx)(ge,{})}),(0,B.jsx)(k,{path:"/order-success/:id",element:(0,B.jsx)(ye,{})}),(0,B.jsx)(k,{path:"/shop",element:(0,B.jsx)(ve,{})}),(0,B.jsx)(k,{path:"/reviews",element:(0,B.jsx)(Ne,{})}),(0,B.jsx)(k,{path:"/about",element:(0,B.jsx)(be,{})}),(0,B.jsx)(k,{path:"/contact",element:(0,B.jsx)(je,{})}),(0,B.jsx)(k,{path:"/admin",element:(0,B.jsx)(ie,{children:(0,B.jsx)(fe,{})})}),(0,B.jsx)(k,{path:"*",element:(0,B.jsx)(we,{t:t})})]})}),(0,B.jsx)(_e,{})]})]})};z.use(L).use(U).use(p).init({fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/translation.json"}}),$.createRoot(document.getElementById("root")).render((0,B.jsx)(q.StrictMode,{children:(0,B.jsx)(W,{children:(0,B.jsx)(Z,{children:(0,B.jsx)(Y,{children:(0,B.jsx)(ke,{})})})})}));export{M as a,F as c,Q as i,se as n,K as o,ee as r,J as s,ne as t};