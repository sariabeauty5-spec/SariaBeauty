import{o as e}from"./rolldown-runtime-BgAqdD8a.js";import{a as s,r as t}from"./motion-Q_hw2Ya2.js";import{gt as a,ht as r,st as i,ut as n,vt as l}from"./vendor-D_eNeWdO.js";import"./i18n-PYB7o98L.js";import{t as c}from"./useAuth-CQSRYPa0.js";var d=e(s(),1),o=t(),m=()=>{const[e,s]=(0,d.useState)(""),[t,m]=(0,d.useState)(""),[u,h]=(0,d.useState)(""),{login:p,user:x}=c(),j=a(),v=r(),{t:f}=i(),y=new URLSearchParams(v.search).get("redirect")||"/";d.useEffect((()=>{x&&j(y)}),[x,y,j]);const g=(N=l((function*(s){s.preventDefault(),h("");const a=yield p(e,t);a.success?j(y):h(a.message)})),function(e){return N.apply(this,arguments)});var N;return(0,o.jsx)("div",{className:"min-h-[70vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"max-w-md w-full space-y-8 card-strong p-8",children:[(0,o.jsx)("div",{children:(0,o.jsx)("h2",{className:"mt-6 text-center text-3xl font-serif text-gray-900",children:f("auth.sign_in_to_your_account")})}),(0,o.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g,children:[u&&(0,o.jsx)("div",{className:"text-red-500 text-center text-sm",children:u}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:f("auth.email_address")}),(0,o.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"input",placeholder:f("auth.email_address"),value:e,onChange:e=>s(e.target.value)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"password",className:"sr-only",children:f("auth.password")}),(0,o.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"input",placeholder:f("auth.password"),value:t,onChange:e=>m(e.target.value)})]})]}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{type:"submit",className:"btn btn-primary w-full",children:f("auth.sign_in")})}),(0,o.jsx)("div",{className:"text-center",children:(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:[f("auth.dont_have_an_account")," ",(0,o.jsx)(n,{to:"/register"+(y&&"/"!==y?`?redirect=${encodeURIComponent(y)}`:""),className:"font-medium text-primary hover:text-rose-700",children:f("auth.register_here")})]})})]})]})})};export{m as default};