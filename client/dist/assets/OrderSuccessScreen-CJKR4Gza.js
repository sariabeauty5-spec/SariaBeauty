import{o as e}from"./rolldown-runtime-BgAqdD8a.js";import{a as r,r as a}from"./motion-Q_hw2Ya2.js";import{J as t,Q as s,_t as i,at as l,t as n,u as o,ut as c,vt as d}from"./vendor-D_eNeWdO.js";import"./i18n-PYB7o98L.js";var m=e(r(),1),x=e(n(),1),h=a(),g=()=>{const{id:e}=i(),[r,a]=m.useState("");m.useEffect((()=>{var r;e&&(r=d((function*(){try{const r=`${window.location.origin}/order/${e}`,t=yield x.toDataURL(r,{width:600,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"H"}),s=document.createElement("canvas"),i=s.getContext("2d"),l=new Image,n=new Image;l.src=t,n.src="/logo.png",yield Promise.all([new Promise((e=>l.onload=e)),new Promise((e=>n.onload=e))]),s.width=600,s.height=600,i.drawImage(l,0,0,600,600);const o=150,c=(600-o)/2,d=(600-o)/2;i.fillStyle="#ffffff",i.beginPath(),i.roundRect(c-5,d-5,o+10,o+10,10),i.fill(),i.drawImage(n,c,d,o,o),a(s.toDataURL("image/png"))}catch(r){}})),function(){return r.apply(this,arguments)})()}),[e]);return e?(0,h.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-16 px-4",children:(0,h.jsx)("div",{className:"max-w-xl w-full space-y-8 animate-in fade-in zoom-in duration-700",children:(0,h.jsxs)("div",{className:"bg-white rounded-[32px] shadow-2xl overflow-hidden border border-gray-100",children:[(0,h.jsxs)("div",{className:"bg-primary/5 py-12 text-center relative overflow-hidden",children:[(0,h.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_top_right,rgba(183,110,121,0.1),transparent)]"}),(0,h.jsxs)("div",{className:"relative z-10",children:[(0,h.jsx)("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto shadow-lg mb-6 ring-8 ring-primary/5",children:(0,h.jsx)(s,{className:"w-12 h-12 text-green-500"})}),(0,h.jsx)("h2",{className:"text-4xl font-serif text-gray-900 mb-2",children:"Paiement Confirmé !"}),(0,h.jsx)("p",{className:"text-gray-500 font-medium uppercase tracking-widest text-sm",children:"Merci pour votre confiance"})]})]}),(0,h.jsxs)("div",{className:"p-8 md:p-12 space-y-10",children:[(0,h.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-10",children:[(0,h.jsxs)("div",{className:"flex-1 space-y-4 text-center md:text-left",children:[(0,h.jsxs)("div",{className:"space-y-1",children:[(0,h.jsx)("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-tighter",children:"Numéro de commande"}),(0,h.jsx)("p",{className:"text-2xl font-mono font-bold text-primary",children:null==e?void 0:e.slice(-8).toUpperCase()})]}),(0,h.jsx)("p",{className:"text-gray-600 leading-relaxed",children:"Votre commande a été validée. Scannez ou téléchargez ce QR code pour accéder rapidement à vos informations de livraison."})]}),(0,h.jsxs)("div",{className:"relative group",children:[(0,h.jsx)("div",{className:"absolute -inset-4 bg-primary/5 rounded-[24px] blur-xl opacity-50 group-hover:opacity-100 transition-opacity"}),(0,h.jsx)("div",{className:"relative bg-white p-4 rounded-[24px] shadow-sm border border-gray-100 flex items-center justify-center min-w-[160px] min-h-[160px]",children:r?(0,h.jsx)("img",{src:r,alt:"Order QR Code",className:"w-40 h-40"}):(0,h.jsx)("div",{className:"w-40 h-40 bg-gray-50 animate-pulse rounded-lg"})})]})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,h.jsxs)("button",{onClick:()=>{if(!r)return void o.error("Erreur lors du téléchargement");const a=document.createElement("a");a.download=`SariaBeautyy-Order-${e}.png`,a.href=r,a.click(),o.success("Réception téléchargée !")},className:"flex items-center justify-center gap-2 px-6 py-4 bg-gray-900 text-white rounded-2xl font-bold hover:bg-black transition-all active:scale-95 shadow-lg shadow-gray-200",children:[(0,h.jsx)(t,{className:"w-5 h-5"}),"Télécharger le QR"]}),(0,h.jsxs)(c,{to:`/order/${e}`,className:"flex items-center justify-center gap-2 px-6 py-4 bg-primary text-white rounded-2xl font-bold hover:bg-primary-dark transition-all active:scale-95 shadow-lg shadow-primary/20",children:["Voir la commande",(0,h.jsx)(l,{className:"w-5 h-5"})]})]}),(0,h.jsx)("div",{className:"pt-8 border-t border-gray-100 text-center",children:(0,h.jsx)(c,{to:"/",className:"text-gray-400 hover:text-primary font-bold text-sm uppercase tracking-widest transition-colors",children:"Retourner à la boutique"})})]})]})})}):(0,h.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("h2",{className:"text-2xl font-serif mb-4",children:"Commande introuvable"}),(0,h.jsx)(c,{to:"/",className:"btn btn-primary",children:"Retour à l'accueil"})]})})};export{g as default};