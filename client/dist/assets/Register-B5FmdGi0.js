import{o as e}from"./rolldown-runtime-BgAqdD8a.js";import{a as s,r as a}from"./motion-Q_hw2Ya2.js";import{gt as t,ht as r,st as l,ut as n,vt as i}from"./vendor-D_eNeWdO.js";import"./i18n-PYB7o98L.js";import{t as m}from"./useAuth-CQSRYPa0.js";var c=e(s(),1),d=a(),o=()=>{const[e,s]=(0,c.useState)(""),[a,o]=(0,c.useState)(""),[u,h]=(0,c.useState)(""),[p,x]=(0,c.useState)(""),{register:j,user:v}=m(),f=t(),y=r(),{t:g}=l(),N=new URLSearchParams(y.search).get("redirect")||"/";c.useEffect((()=>{v&&f(N)}),[v,N,f]);const w=(_=i((function*(s){s.preventDefault(),x("");const t=yield j(e,a,u);t.success?f(N):x(t.message)})),function(e){return _.apply(this,arguments)});var _;return(0,d.jsx)("div",{className:"min-h-[70vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"max-w-md w-full space-y-8 card-strong p-8",children:[(0,d.jsx)("div",{children:(0,d.jsx)("h2",{className:"mt-6 text-center text-3xl font-serif text-gray-900",children:g("auth.create_account")})}),(0,d.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:w,children:[p&&(0,d.jsx)("div",{className:"text-red-500 text-center text-sm",children:p}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"name",className:"sr-only",children:g("auth.full_name")}),(0,d.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"input",placeholder:g("auth.full_name"),value:e,onChange:e=>s(e.target.value)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:g("auth.email_address")}),(0,d.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"input",placeholder:g("auth.email_address"),value:a,onChange:e=>o(e.target.value)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"password",className:"sr-only",children:g("auth.password")}),(0,d.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"input",placeholder:g("auth.password"),value:u,onChange:e=>h(e.target.value)})]})]}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{type:"submit",className:"btn btn-primary w-full",children:g("auth.register")})}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[g("auth.already_have_an_account")," ",(0,d.jsx)(n,{to:"/login"+(N&&"/"!==N?`?redirect=${encodeURIComponent(N)}`:""),className:"font-medium text-primary hover:text-rose-700",children:g("auth.sign_in_here")})]})})]})]})})};export{o as default};