import{o as e}from"./rolldown-runtime-BgAqdD8a.js";import{a as t,r as a,t as s}from"./motion-Q_hw2Ya2.js";import{D as r,p as i,st as o,ut as l,vt as n}from"./vendor-D_eNeWdO.js";import"./i18n-PYB7o98L.js";import{c as d,r as c}from"./index-CSH1YS6q.js";var m=e(t(),1),x=a(),p=()=>{const{t:e,i18n:t}=o(),{formatPrice:a}=c(),[p,u]=(0,m.useState)([]),[g,h]=(0,m.useState)(!0),[b,y]=(0,m.useState)(""),[f,v]=(0,m.useState)("All");(0,m.useEffect)((()=>{var e;(e=n((function*(){try{const{data:e}=yield d.get("/products");u(e)}catch(e){}finally{h(!1)}})),function(){return e.apply(this,arguments)})()}),[]);const j=e=>{if(!e)return"";const t=e.toLowerCase();return t.startsWith("http")||t.startsWith("data:")||t.startsWith("/")?e:`/images/${e}`},N=e=>{const a=t.language||"en",s=(e.translations||{})[a];return{name:(null==s?void 0:s.name)||e.name,description:(null==s?void 0:s.description)||e.description}},w=["All",...Array.from(new Set(p.map((e=>e.category))))],k=p.filter((e=>{const t="All"===f||e.category===f,{name:a,description:s}=N(e),r=""===b.trim()||(a+" "+s).toLowerCase().includes(b.toLowerCase());return t&&r}));return(0,x.jsxs)("main",{className:"min-h-screen bg-gradient-to-b from-rose-50/70 via-white to-rose-100/70",children:[(0,x.jsxs)("div",{className:"relative pt-32 pb-16 lg:pt-40 lg:pb-24",children:[(0,x.jsx)("div",{className:"absolute inset-0 z-0 opacity-30",children:(0,x.jsx)("div",{className:"absolute inset-0 bg-repeat bg-center",style:{backgroundImage:"url(/images/patterns/subtle-dots.svg)"}})}),(0,x.jsx)("div",{className:"container mx-auto px-4 relative z-10",children:(0,x.jsxs)(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center",children:[(0,x.jsx)("p",{className:"text-xs md:text-sm font-semibold tracking-[0.25em] uppercase text-primary/80 mb-3",children:e("featured_products")}),(0,x.jsx)("h1",{className:"text-4xl md:text-6xl font-serif text-gray-900 mb-4",children:e("shop.title")}),(0,x.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto text-base md:text-lg",children:e("shop.subtitle")})]})})]}),(0,x.jsxs)("div",{className:"container mx-auto px-4 pb-16",children:[(0,x.jsx)("div",{className:"max-w-5xl mx-auto -mt-24 relative z-20",children:(0,x.jsxs)("div",{className:"bg-white/95 backdrop-blur-md rounded-3xl shadow-xl border border-rose-100/80 px-4 py-4 md:px-6 md:py-5 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,x.jsxs)("div",{className:"flex items-center flex-1 bg-gray-50/60 rounded-2xl px-3 py-2 md:px-4 md:py-2 border border-gray-200/80 focus-within:ring-4 focus-within:ring-primary/10 transition-all duration-300",children:[(0,x.jsx)("div",{className:"pl-1 text-gray-400",children:(0,x.jsx)(r,{className:"w-5 h-5"})}),(0,x.jsx)("input",{value:b,onChange:e=>y(e.target.value),placeholder:e("shop.search_placeholder"),className:"w-full bg-transparent border-none focus:ring-0 text-sm md:text-base text-gray-800 placeholder-gray-400 px-3 py-2 outline-none"}),b&&(0,x.jsx)("button",{onClick:()=>y(""),className:"p-1.5 md:p-2 ml-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:(0,x.jsx)(i,{className:"w-4 h-4"})})]}),(0,x.jsx)("div",{className:"flex flex-wrap items-center gap-2 justify-start md:justify-end",children:w.map((e=>(0,x.jsx)("button",{onClick:()=>v(e),className:"px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm font-medium rounded-full transition-all duration-300 border "+(f===e?"bg-primary border-primary text-white shadow-md shadow-primary/30 transform -translate-y-0.5":"bg-white/80 border-gray-200 text-gray-600 hover:border-primary/50 hover:text-primary hover:bg-rose-50"),children:e},e)))})]})}),(0,x.jsx)("div",{className:"mt-16",children:g?(0,x.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:Array.from({length:6}).map(((e,t)=>(0,x.jsxs)("div",{className:"card p-4",children:[(0,x.jsx)("div",{className:"h-72 bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl mb-4 relative overflow-hidden shadow-inner",children:(0,x.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})}),(0,x.jsx)("div",{className:"h-6 w-3/4 bg-gray-100 rounded-md mb-2 animate-pulse"}),(0,x.jsx)("div",{className:"h-4 w-full bg-gray-100 rounded-md mb-4 animate-pulse"}),(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("div",{className:"h-6 w-20 bg-gray-100 rounded-md animate-pulse"}),(0,x.jsx)("div",{className:"h-10 w-28 bg-gray-100 rounded-full animate-pulse"})]})]},t)))}):k.length>0?(0,x.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:k.map((t=>(0,x.jsx)(s.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:(0,x.jsxs)(l,{to:`/product/${t._id}`,className:"card-strong bg-white/90 rounded-3xl overflow-hidden group transition-all duration-500 hover:shadow-2xl hover:-translate-y-2 flex flex-col border border-rose-100/80 hover:border-rose-200/90",children:[(0,x.jsxs)("div",{className:"h-72 overflow-hidden relative bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl flex items-center justify-center shadow-inner m-3 mb-0",children:[(0,x.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent"}),(0,x.jsx)("img",{src:j(t.image),alt:N(t).name,loading:"lazy",className:"max-w-full max-h-full object-contain transition-all duration-700 ease-out group-hover:scale-110 group-hover:rotate-1 group-hover:shadow-2xl"}),(0,x.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),(0,x.jsxs)("div",{className:"p-6 flex flex-col flex-grow",children:[(0,x.jsx)("h3",{className:"text-xl font-serif text-gray-900 mb-2 truncate",children:N(t).name}),(0,x.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-grow",children:N(t).description}),(0,x.jsxs)("div",{className:"flex items-center mb-3 text-xs md:text-sm text-gray-500",children:[(0,x.jsx)("span",{className:"w-2 h-2 rounded-full mr-2 "+(t.countInStock>0?"bg-green-500":"bg-red-500")}),t.countInStock>0?e("in_stock"):e("out_of_stock")]}),(0,x.jsxs)("div",{className:"flex justify-between items-center mt-auto",children:[(0,x.jsx)("p",{className:"text-primary font-bold text-2xl",children:a(t.price)}),(0,x.jsx)("button",{className:"btn rounded-full px-6 py-3 text-sm font-semibold "+(t.countInStock>0?"btn-primary":"btn-disabled bg-gray-300 text-gray-500 cursor-not-allowed"),disabled:0===t.countInStock,children:t.countInStock>0?e("shop_now"):e("out_of_stock")})]})]})]})},t._id)))}):(0,x.jsxs)("div",{className:"text-center py-20 card bg-gray-50/70",children:[(0,x.jsx)(r,{className:"w-16 h-16 text-gray-200 mx-auto mb-4"}),(0,x.jsx)("h3",{className:"text-xl font-medium text-gray-800",children:e("shop.no_products_title")}),(0,x.jsx)("p",{className:"text-gray-500 mt-2",children:e("shop.no_products_desc")}),(0,x.jsx)("button",{onClick:()=>{y(""),v("All")},className:"mt-6 text-primary font-medium hover:underline",children:e("shop.clear_filters")})]})})]})]})};export{p as default};