import{o as e}from"./rolldown-runtime-BgAqdD8a.js";import{a as s,r as a}from"./motion-Q_hw2Ya2.js";import{$ as r,A as t,C as d,G as l,M as i,N as n,O as o,U as c,Y as m,b as x,et as p,f as u,g,it as h,m as b,nt as y,p as v,st as j,u as f,v as N,vt as w,x as _,y as k}from"./vendor-D_eNeWdO.js";import{a as S,o as C}from"./i18n-PYB7o98L.js";import{c as A,r as $,s as I}from"./index-CSH1YS6q.js";var D=e(s(),1),F=a();C();var P=()=>{var e,s,a,C,P;const{t:M,i18n:U}=j(),{formatPrice:L}=$(),{user:R}=I(),W=(0,D.useMemo)((()=>({headers:{Authorization:`Bearer ${null==R?void 0:R.token}`}})),[R]),E=A.defaults.baseURL.replace(/\/api$/,""),z=e=>{if(!e)return"";const s=String(e).toLowerCase();return s.startsWith("http")||s.startsWith("data:")?e:s.startsWith("/uploads")?E+e:s.startsWith("/images/")||s.startsWith("/")?e:`/images/${e}`},[O,q]=(0,D.useState)((()=>{if("undefined"!=typeof window){const e=window.localStorage.getItem("adminActiveTab");if(e)return e}return"products"})),[B,J]=(0,D.useState)([]),[T,H]=(0,D.useState)([]),[G,Y]=(0,D.useState)([]),[K,Q]=(0,D.useState)([]),[V,X]=(0,D.useState)([]),[Z,ee]=(0,D.useState)(null),[se,ae]=(0,D.useState)(!1),[re,te]=(0,D.useState)(!1),[de,le]=(0,D.useState)({name:"",description:"",price:"",category:"",image:"",countInStock:"",nameFr:"",descFr:"",nameAr:"",descAr:""}),[ie,ne]=(0,D.useState)(null),[oe,ce]=(0,D.useState)({totalSales:0,orders:0,products:0,customers:0}),[me,xe]=(0,D.useState)([]),[pe,ue]=(0,D.useState)(!1),[ge,he]=(0,D.useState)(null),[be,ye]=(0,D.useState)(""),ve=oe.monthly||[],je=ve.length>0?ve[ve.length-1]:null,fe=ve.length>1?ve[ve.length-2]:null,Ne=je&&fe?je.sales-fe.sales:null,we=je&&fe&&fe.sales?Ne/fe.sales*100:null,_e=e=>{const s=U.language||"en",a=(e.translations||{})[s];return{name:(null==a?void 0:a.name)||e.name,description:(null==a?void 0:a.description)||e.description}};(0,D.useEffect)((()=>{var e;(e=w((function*(){ae(!0);try{const[e,s,a,r,t,d,l]=yield Promise.all([A.get("/products",W),A.get("/orders/all",W),A.get("/users",W),A.get("/admin/stats",W),A.get("/products/categories/list",W),A.get("/contact",W),A.get("/pages/about",W)]);J(e.data||[]),X((e.data||[]).flatMap((e=>(e.reviews||[]).map((s=>S(S({},s),{},{productId:e._id,product:e,productName:e.name,productImage:e.image}))))).sort(((e,s)=>new Date(s.createdAt)-new Date(e.createdAt)))),H(s.data||[]),Y(a.data||[]),ce((e=>r.data||e)),xe(t.data||[]),Q(d.data||[]),ee(l.data||null)}catch(e){}finally{ae(!1)}})),function(){return e.apply(this,arguments)})();const s=A.defaults.baseURL.replace(/\/api$/,""),a=new EventSource(`${s}/api/products/events`),r=new EventSource(`${s}/api/contact/events`),t=new EventSource(`${s}/api/pages/events`);return a.onmessage=e=>{try{const s=JSON.parse(e.data);"order"===s.channel&&"order_created"===s.type?(H((e=>[s.order,...e])),f.success(M("admin.toast.new_order",{amount:s.order.totalPrice}),{icon:"ðŸ›ï¸"})):"order"===s.channel&&"order_updated"===s.type?H((e=>e.map((e=>e._id===s.order._id?s.order:e)))):"product"===s.channel&&"product_created"===s.type?J((e=>[s.product,...e])):"product"===s.channel&&"product_updated"===s.type?J((e=>{const a=e.map((e=>e._id===s.product._id?s.product:e));return X((()=>a.flatMap((e=>(e.reviews||[]).map((s=>S(S({},s),{},{productId:e._id,product:e,productName:e.name,productImage:e.image}))))).sort(((e,s)=>new Date(s.createdAt)-new Date(e.createdAt))))),a})):"product"===s.channel&&"review_created"===s.type?(f.success(M("admin.toast.new_review",{productName:s.productName}),{icon:"â­"}),X((e=>[S(S({},s.review),{},{productId:s.productId,product:s.product||B.find((e=>e._id===s.productId)),productName:s.productName}),...e]))):"product"===s.channel&&"product_deleted"===s.type&&J((e=>e.filter((e=>e._id!==s.id))))}catch(s){}},r.onmessage=e=>{try{const s=JSON.parse(e.data);"contact"===s.channel&&("new_message"===s.type?(Q((e=>[s.message,...e])),f.success(M("admin.toast.new_message",{name:s.message.name}),{icon:"ðŸ“§"})):"message_replied"===s.type&&(Q((e=>e.map((e=>e._id===s.message._id?s.message:e)))),f.success(M("admin.toast.message_replied",{name:s.message.name}),{icon:"âœ…"})))}catch(s){}},t.onmessage=e=>{try{const s=JSON.parse(e.data);"page"===s.channel&&"page_content_updated"===s.type&&("about"===s.page&&ee(s.content),f.success(M("admin.toast.page_updated",{page:s.page}),{icon:"ðŸ“„"}))}catch(s){}},a.onerror=e=>{},r.onerror=e=>{},t.onerror=e=>{},()=>{a.close(),r.close(),t.close()}}),[W,R]);const ke=()=>{le({name:"",description:"",price:"",category:"",image:"",countInStock:"",nameFr:"",descFr:"",nameAr:"",descAr:""}),ne(null),te(!1)},Se=(Ce=w((function*(e){e.preventDefault();try{const e=parseFloat(de.price);if(isNaN(e)||e<0)return void f.error("Please enter a valid price");const s=Math.round(e/3.67*1e8)/1e8,a={name:de.name,description:de.description,price:s,category:de.category,image:de.image,countInStock:Number(de.countInStock||0)};if(a.translations={fr:{name:de.nameFr||void 0,description:de.descFr||void 0},ar:{name:de.nameAr||void 0,description:de.descAr||void 0}},ie){const{data:e}=yield A.put(`/products/${ie}`,a,W);J((s=>s.map((s=>s._id===ie?e:s)))),f.success(M("admin.products.update_success"))}else{const{data:e}=yield A.post("/products",a,W);J((s=>[e,...s])),f.success(M("admin.products.create_success"))}ke()}catch(a){var s;f.error((null===(s=a.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.message)||M("admin.products.save_error"))}})),function(e){return Ce.apply(this,arguments)});var Ce;const Ae=($e=w((function*(e){f((s=>{return(0,F.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,F.jsxs)("div",{className:"flex items-center gap-3",children:[(0,F.jsx)("div",{className:"bg-red-100 p-2 rounded-full",children:(0,F.jsx)(r,{className:"w-5 h-5 text-red-600"})}),(0,F.jsxs)("div",{children:[(0,F.jsx)("p",{className:"font-bold text-gray-900",children:M("admin.products.delete_confirm.title")}),(0,F.jsx)("p",{className:"text-xs text-gray-500",children:M("admin.products.delete_confirm.text")})]})]}),(0,F.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,F.jsx)("button",{onClick:()=>f.dismiss(s.id),className:"px-3 py-1.5 text-xs font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:M("admin.common.cancel")}),(0,F.jsx)("button",{onClick:(a=w((function*(){f.dismiss(s.id);try{const s=f.loading(M("admin.common.deleting"));yield A.delete(`/products/${e}`,W),J((s=>s.filter((s=>s._id!==e)))),f.success(M("admin.products.delete_success"),{id:s})}catch(a){f.error(M("admin.products.delete_error"))}})),function(){return a.apply(this,arguments)}),className:"px-3 py-1.5 text-xs font-medium bg-red-600 text-white hover:bg-red-700 rounded-lg shadow-sm transition-colors",children:M("admin.common.delete")})]})]});var a}),{duration:5e3,position:"top-center",style:{minWidth:"300px",borderRadius:"20px"}})})),function(e){return $e.apply(this,arguments)});var $e;const Ie=(De=w((function*(e,s){try{const{data:a}=yield A.put(`/orders/${e}/status`,s,W);H((s=>s.map((s=>s._id===e?a:s)))),f.success(M("admin.orders.status_update_success"))}catch(r){var a;f.error((null===(a=r.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||M("admin.orders.status_update_error"))}})),function(e,s){return De.apply(this,arguments)});var De;const Fe=(Pe=w((function*(e,s){try{const{data:a}=yield A.put(`/users/${e}/admin`,{isAdmin:s},W);Y((s=>s.map((s=>s._id===e?a:s)))),f.success(M(s?"admin.users.promoted":"admin.users.demoted"))}catch(r){var a;f.error((null===(a=r.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||M("admin.users.toggle_error"))}})),function(e,s){return Pe.apply(this,arguments)});var Pe;const Me=[{id:"stats",label:M("admin.sidebar.dashboard"),icon:c},{id:"products",label:M("admin.sidebar.products"),icon:n},{id:"orders",label:M("admin.sidebar.orders"),icon:d},{id:"users",label:M("admin.sidebar.users"),icon:b},{id:"reviews",label:M("admin.sidebar.reviews"),icon:_},{id:"messages",label:M("admin.sidebar.messages"),icon:u},{id:"about",label:M("admin.sidebar.about"),icon:l}];return(0,F.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-b from-rose-50/70 via-white to-rose-100/70",children:[(0,F.jsxs)("aside",{className:"w-64 bg-white border-r border-gray-200 hidden md:flex flex-col sticky top-0 h-screen",children:[(0,F.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,F.jsxs)("h2",{className:"text-xl font-serif font-bold text-primary flex items-center gap-2",children:["Saria ",(0,F.jsx)("span",{className:"text-gray-900",children:"Admin"})]})}),(0,F.jsx)("nav",{className:"flex-1 p-4 space-y-1",children:Me.map((e=>(0,F.jsxs)("button",{onClick:()=>{q(e.id),"undefined"!=typeof window&&window.localStorage.setItem("adminActiveTab",e.id)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 "+(O===e.id?"bg-rose-50 text-primary":"text-gray-500 hover:bg-gray-50 hover:text-gray-900"),children:[(0,F.jsx)(e.icon,{className:"w-5 h-5 "+(O===e.id?"text-primary":"text-gray-400")}),e.label,O===e.id&&(0,F.jsx)(p,{className:"w-4 h-4 ml-auto opacity-50"})]},e.id)))}),(0,F.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,F.jsxs)("div",{className:"bg-rose-50 rounded-xl p-4",children:[(0,F.jsx)("p",{className:"text-xs text-rose-600 font-medium mb-1 uppercase tracking-wider",children:M("admin.sidebar.loggedin")}),(0,F.jsx)("p",{className:"text-sm font-bold text-gray-900 truncate",children:null==R?void 0:R.name})]})})]}),(0,F.jsxs)("main",{className:"flex-1 min-w-0 flex flex-col",children:[(0,F.jsx)("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-10",children:(0,F.jsxs)("div",{className:"px-6 py-4 flex justify-between items-center",children:[(0,F.jsxs)("div",{children:[(0,F.jsx)("h1",{className:"text-2xl font-serif font-bold text-gray-900",children:null===(e=Me.find((e=>e.id===O)))||void 0===e?void 0:e.label}),(0,F.jsx)("p",{className:"text-sm text-gray-500",children:M("admin.header.subtitle")})]}),(0,F.jsxs)("div",{className:"flex items-center gap-4",children:[se&&(0,F.jsx)(o,{className:"w-5 h-5 text-primary animate-spin"}),"products"===O&&!re&&(0,F.jsxs)("button",{onClick:()=>te(!0),className:"bg-primary text-white px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2 hover:bg-primary/90 transition-colors shadow-lg shadow-rose-200",children:[(0,F.jsx)(t,{className:"w-4 h-4"})," ",M("admin.products.add_btn")]})]})]})}),(0,F.jsxs)("div",{className:"p-6",children:["messages"===O&&(0,F.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:(0,F.jsx)("div",{className:"overflow-x-auto",children:(0,F.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{className:"bg-gray-50/50",children:[(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.table.date")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.messages.table.sender")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.messages.table.subject")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.messages.table.message")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.messages.table.status")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider text-right",children:M("admin.table.actions")})]})}),(0,F.jsx)("tbody",{className:"divide-y divide-gray-100",children:K.map((e=>(0,F.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,F.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.createdAt).toLocaleDateString()}),(0,F.jsxs)("td",{className:"px-6 py-4",children:[(0,F.jsx)("div",{className:"text-sm font-bold text-gray-900",children:e.name}),(0,F.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]}),(0,F.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.subject}),(0,F.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",children:e.message}),(0,F.jsx)("td",{className:"px-6 py-4",children:(0,F.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("new"===e.status?"bg-rose-100 text-rose-600":"bg-gray-100 text-gray-600"),children:e.status})}),(0,F.jsx)("td",{className:"px-6 py-4 text-right",children:(0,F.jsx)("div",{className:"flex justify-end gap-2",children:(0,F.jsx)("button",{onClick:()=>{he(e),ye(e.adminReply||""),ue(!0)},className:"px-3 py-1.5 text-xs font-medium bg-primary text-white rounded-lg hover:bg-primary/90",children:M("admin.messages.reply_btn")})})})]},e._id)))})]})})}),pe&&ge&&(0,F.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,F.jsx)("div",{className:"absolute inset-0 bg-black/40"}),(0,F.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-[520px] max-w-[90vw] p-6",children:[(0,F.jsxs)("div",{className:"mb-4",children:[(0,F.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:M("admin.messages.reply_modal.title")}),(0,F.jsx)("p",{className:"text-xs text-gray-500",children:M("admin.messages.reply_modal.from",{name:ge.name,email:ge.email})})]}),(0,F.jsxs)("div",{className:"space-y-3",children:[(0,F.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,F.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase",children:M("admin.messages.reply_modal.subject_label")}),(0,F.jsx)("p",{className:"text-sm text-gray-900",children:ge.subject})]}),(0,F.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,F.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase",children:M("admin.messages.reply_modal.message_label")}),(0,F.jsx)("p",{className:"text-sm text-gray-700",children:ge.message})]}),(0,F.jsxs)("div",{children:[(0,F.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:M("admin.messages.reply_modal.response_label")}),(0,F.jsx)("textarea",{rows:"5",value:be,onChange:e=>ye(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",placeholder:M("admin.messages.reply_modal.response_placeholder")})]})]}),(0,F.jsxs)("div",{className:"mt-6 flex justify-end gap-2",children:[(0,F.jsx)("button",{onClick:()=>{ue(!1),he(null),ye("")},className:"px-4 py-2 rounded-xl border border-gray-200 text-gray-700 hover:bg-gray-50",children:M("admin.messages.reply_modal.cancel")}),(0,F.jsx)("button",{onClick:(Re=w((function*(){if(be.trim())try{const{data:e}=yield A.put(`/contact/${ge._id}/reply`,{reply:be},W);Q((s=>s.map((s=>s._id===ge._id?e:s)))),ue(!1),he(null),ye(""),f.success(M("admin.messages.reply_modal.reply_success"))}catch(s){var e;f.error((null===(e=s.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.message)||M("admin.messages.reply_modal.reply_error"))}})),function(){return Re.apply(this,arguments)}),className:"px-6 py-2 rounded-xl bg-primary text-white hover:bg-primary/90",disabled:!be.trim(),children:M("admin.messages.reply_modal.send")})]})]})]}),"reviews"===O&&(0,F.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:(0,F.jsx)("div",{className:"overflow-x-auto",children:(0,F.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{className:"bg-gray-50/50",children:[(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.table.date")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.table.product")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.reviews.table.reviewer")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.reviews.table.rating")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.reviews.table.comment")})]})}),(0,F.jsx)("tbody",{className:"divide-y divide-gray-100",children:V.map(((e,s)=>(0,F.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,F.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.createdAt).toLocaleString()}),(0,F.jsx)("td",{className:"px-6 py-4",children:(0,F.jsxs)("div",{className:"flex items-center gap-3",children:[(0,F.jsx)("img",{src:z(e.productImage),className:"w-10 h-10 rounded-lg object-cover bg-gray-100",alt:""}),(0,F.jsx)("div",{className:"text-sm font-bold text-gray-900",children:e.product?_e(e.product).name:e.productName})]})}),(0,F.jsx)("td",{className:"px-6 py-4",children:(0,F.jsx)("div",{className:"text-sm font-bold text-gray-900",children:e.name})}),(0,F.jsx)("td",{className:"px-6 py-4",children:(0,F.jsxs)("div",{className:"flex items-center gap-1 text-amber-600",children:[(0,F.jsx)(_,{className:"w-4 h-4"}),(0,F.jsx)("span",{className:"text-sm font-medium",children:e.rating})]})}),(0,F.jsx)("td",{className:"px-6 py-4 text-sm text-gray-700",children:e.comment})]},`${e.productId}-${e.createdAt}-${s}`)))})]})})}),"about"===O&&Z&&(0,F.jsx)("div",{className:"max-w-4xl space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:(0,F.jsxs)("div",{className:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm space-y-8",children:[(0,F.jsxs)("div",{className:"flex justify-between items-center border-b pb-4",children:[(0,F.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:M("admin.about.edit_title")}),(0,F.jsx)("button",{onClick:(Le=w((function*(){try{yield A.post("/pages/about",Z,W),f.success(M("admin.about.update_success"))}catch(e){f.error(M("admin.about.update_error"))}})),function(){return Le.apply(this,arguments)}),className:"bg-primary text-white px-8 py-3 rounded-xl font-bold shadow-lg shadow-rose-200 hover:bg-primary/90 transition-all active:scale-95",children:M("admin.about.save_btn")})]}),(0,F.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,F.jsxs)("div",{children:[(0,F.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:M("admin.about.page_title_label")}),(0,F.jsx)("input",{type:"text",value:Z.title||"",onChange:e=>ee(S(S({},Z),{},{title:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]}),(0,F.jsxs)("div",{children:[(0,F.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:M("admin.about.hero_subtitle_label")}),(0,F.jsx)("textarea",{rows:"3",value:Z.subtitle||"",onChange:e=>ee(S(S({},Z),{},{subtitle:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]}),(0,F.jsx)("div",{className:"space-y-4 pt-6 border-t",children:(0,F.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,F.jsxs)("div",{children:[(0,F.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:M("admin.about.mission_title_label")}),(0,F.jsx)("input",{type:"text",value:(null===(s=Z.mission)||void 0===s?void 0:s.title)||"",onChange:e=>ee(S(S({},Z),{},{mission:S(S({},Z.mission),{},{title:e.target.value})})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]}),(0,F.jsxs)("div",{children:[(0,F.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:M("admin.about.mission_content_label")}),(0,F.jsx)("textarea",{rows:"4",value:(null===(a=Z.mission)||void 0===a?void 0:a.content)||"",onChange:e=>ee(S(S({},Z),{},{mission:S(S({},Z.mission),{},{content:e.target.value})})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]}),(0,F.jsxs)("div",{children:[(0,F.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:M("admin.about.mission_image_label")}),(0,F.jsx)("input",{type:"text",value:(null===(C=Z.mission)||void 0===C?void 0:C.imageUrl)||"",onChange:e=>ee(S(S({},Z),{},{mission:S(S({},Z.mission),{},{imageUrl:e.target.value})})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]})]})}),(0,F.jsxs)("div",{className:"space-y-4 pt-6 border-t",children:[(0,F.jsxs)("div",{className:"flex justify-between items-center",children:[(0,F.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:M("admin.about.sections_label")}),(0,F.jsxs)("button",{onClick:()=>ee(S(S({},Z),{},{sections:[...Z.sections||[],{title:"",content:"",icon:"Heart"}]})),className:"text-primary text-sm font-bold flex items-center gap-1 hover:underline",children:[(0,F.jsx)(t,{className:"w-4 h-4"})," ",M("admin.about.add_section_btn")]})]}),(0,F.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null===(P=Z.sections)||void 0===P?void 0:P.map(((e,s)=>(0,F.jsxs)("div",{className:"p-4 bg-gray-50 rounded-2xl space-y-3 relative group",children:[(0,F.jsx)("button",{onClick:()=>{const e=Z.sections.filter(((e,a)=>a!==s));ee(S(S({},Z),{},{sections:e}))},className:"absolute -top-2 -right-2 bg-white text-rose-500 p-1 rounded-full shadow-sm border border-rose-100 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,F.jsx)(v,{className:"w-4 h-4"})}),(0,F.jsx)("input",{type:"text",placeholder:M("admin.about.section_title_placeholder"),value:e.title,onChange:e=>{const a=[...Z.sections];a[s].title=e.target.value,ee(S(S({},Z),{},{sections:a}))},className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-sm font-bold"}),(0,F.jsx)("textarea",{placeholder:M("admin.about.section_content_placeholder"),rows:"3",value:e.content,onChange:e=>{const a=[...Z.sections];a[s].content=e.target.value,ee(S(S({},Z),{},{sections:a}))},className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-sm"})]},s)))})]})]})]})}),"stats"===O&&(0,F.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,F.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:M("admin.stats.total_sales"),value:L(oe.totalSales),icon:m,color:"bg-emerald-50 text-emerald-600",change:we},{label:M("admin.stats.total_orders"),value:oe.orders,icon:d,color:"bg-blue-50 text-blue-600"},{label:M("admin.stats.products"),value:oe.products,icon:h,color:"bg-rose-50 text-rose-600"},{label:M("admin.stats.customers"),value:oe.customers,icon:g,color:"bg-amber-50 text-amber-600"}].map(((e,s)=>(0,F.jsx)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300",children:(0,F.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,F.jsxs)("div",{className:"flex items-center gap-4",children:[(0,F.jsx)("div",{className:`p-3 rounded-xl ${e.color}`,children:(0,F.jsx)(e.icon,{className:"w-6 h-6"})}),(0,F.jsxs)("div",{children:[(0,F.jsx)("p",{className:"text-xs text-gray-500 font-semibold tracking-wide uppercase",children:e.label}),(0,F.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.value})]})]}),"number"==typeof e.change&&(0,F.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-[11px] font-semibold "+(e.change>=0?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"),children:[e.change>=0?(0,F.jsx)(N,{className:"w-3 h-3"}):(0,F.jsx)(k,{className:"w-3 h-3"}),(0,F.jsx)("span",{children:`${e.change>=0?"+":"-"}${Math.abs(e.change).toFixed(1)}%`})]})]})},s)))}),(0,F.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:(0,F.jsxs)("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[(0,F.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,F.jsx)(y,{className:"w-5 h-5 text-primary"})," ",M("admin.stats.sales_performance")]}),(0,F.jsx)("div",{className:"h-64 flex items-end gap-3",children:ve.map(((e,s)=>(0,F.jsxs)("div",{className:"flex-1 flex flex-col items-center group",children:[(0,F.jsx)("div",{className:"w-full relative",children:(0,F.jsx)("div",{className:"bg-primary/15 hover:bg-primary/35 transition-all rounded-t-2xl w-full relative group-hover:shadow-lg",style:{height:`${Math.max(20,Math.min(200,e.sales/10))}px`},children:(0,F.jsx)("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:L(e.sales)})})}),(0,F.jsx)("p",{className:"text-[10px] text-gray-400 mt-2 font-medium uppercase",children:e.month.split("-")[1]})]},s)))})]})})]}),"products"===O&&(0,F.jsxs)("div",{className:"animate-in slide-in-from-bottom-4 duration-500",children:[re&&(0,F.jsxs)("div",{className:"mb-8 bg-white rounded-2xl border border-gray-200 shadow-xl overflow-hidden animate-in zoom-in-95 duration-200",children:[(0,F.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,F.jsx)("h3",{className:"font-bold text-gray-900",children:M(ie?"admin.products.form.edit_title":"admin.products.form.add_title")}),(0,F.jsx)("button",{onClick:ke,className:"text-gray-400 hover:text-gray-600",children:(0,F.jsx)(v,{className:"w-5 h-5"})})]}),(0,F.jsxs)("form",{onSubmit:Se,className:"p-6",children:[(0,F.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,F.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,F.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,F.jsxs)("div",{className:"space-y-1",children:[(0,F.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:M("admin.products.form.name_label")}),(0,F.jsx)("input",{className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",value:de.name,onChange:e=>le((s=>S(S({},s),{},{name:e.target.value}))),placeholder:M("admin.products.form.name_placeholder"),required:!0})]}),(0,F.jsxs)("div",{className:"space-y-1",children:[(0,F.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:M("admin.products.form.category_label")}),(0,F.jsxs)("div",{className:"flex gap-2",children:[(0,F.jsxs)("select",{className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl outline-none",value:de.category,onChange:e=>le((s=>S(S({},s),{},{category:e.target.value}))),children:[(0,F.jsx)("option",{value:"",children:M("admin.products.form.category_select")}),me.map((e=>(0,F.jsx)("option",{value:e,children:e},e)))]}),(0,F.jsx)("input",{className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl outline-none",placeholder:M("admin.products.form.category_new_placeholder"),value:de.category,onChange:e=>le((s=>S(S({},s),{},{category:e.target.value})))})]})]})]}),(0,F.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,F.jsxs)("div",{className:"space-y-1",children:[(0,F.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:M("admin.products.form.price_label")}),(0,F.jsxs)("div",{className:"flex items-center",children:[(0,F.jsx)("span",{className:"text-gray-500 text-sm font-bold mr-2",children:"AED"}),(0,F.jsx)("input",{className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl outline-none",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:de.price,onChange:e=>{const s=e.target.value;(""===s||parseFloat(s)>=0)&&le((e=>S(S({},e),{},{price:s})))},required:!0})]})]}),(0,F.jsxs)("div",{className:"space-y-1",children:[(0,F.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:M("admin.products.form.stock_label")}),(0,F.jsx)("input",{className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl outline-none",type:"number",value:de.countInStock,onChange:e=>le((s=>S(S({},s),{},{countInStock:e.target.value}))),required:!0})]})]}),(0,F.jsxs)("div",{className:"space-y-1",children:[(0,F.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:M("admin.products.form.description_label")}),(0,F.jsx)("textarea",{className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl outline-none min-h-[100px]",value:de.description,onChange:e=>le((s=>S(S({},s),{},{description:e.target.value})))})]}),(0,F.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[(0,F.jsxs)("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,F.jsx)(o,{className:"w-4 h-4 text-primary"})," ",M("admin.products.form.translations_title")]}),(0,F.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,F.jsxs)("div",{className:"space-y-4",children:[(0,F.jsxs)("div",{className:"space-y-1",children:[(0,F.jsx)("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:M("admin.products.form.fr_name_label")}),(0,F.jsx)("input",{className:"w-full px-3 py-2 text-sm bg-gray-50 border border-gray-100 rounded-lg outline-none focus:border-primary",value:de.nameFr,onChange:e=>le((s=>S(S({},s),{},{nameFr:e.target.value}))),placeholder:M("admin.products.form.name_fr_placeholder")})]}),(0,F.jsxs)("div",{className:"space-y-1",children:[(0,F.jsx)("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:M("admin.products.form.fr_desc_label")}),(0,F.jsx)("textarea",{className:"w-full px-3 py-2 text-sm bg-gray-50 border border-gray-100 rounded-lg outline-none focus:border-primary min-h-[60px]",value:de.descFr,onChange:e=>le((s=>S(S({},s),{},{descFr:e.target.value}))),placeholder:M("admin.products.form.desc_fr_placeholder")})]})]}),(0,F.jsxs)("div",{className:"space-y-4",children:[(0,F.jsxs)("div",{className:"space-y-1",children:[(0,F.jsx)("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:M("admin.products.form.ar_name_label")}),(0,F.jsx)("input",{className:"w-full px-3 py-2 text-sm bg-gray-50 border border-gray-100 rounded-lg outline-none focus:border-primary text-right",dir:"rtl",value:de.nameAr,onChange:e=>le((s=>S(S({},s),{},{nameAr:e.target.value}))),placeholder:M("admin.products.form.name_ar_placeholder")})]}),(0,F.jsxs)("div",{className:"space-y-1",children:[(0,F.jsx)("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:M("admin.products.form.ar_desc_label")}),(0,F.jsx)("textarea",{className:"w-full px-3 py-2 text-sm bg-gray-50 border border-gray-100 rounded-lg outline-none focus:border-primary min-h-[60px] text-right",dir:"rtl",value:de.descAr,onChange:e=>le((s=>S(S({},s),{},{descAr:e.target.value}))),placeholder:M("admin.products.form.desc_ar_placeholder")})]})]})]})]})]}),(0,F.jsx)("div",{className:"space-y-6",children:(0,F.jsxs)("div",{className:"space-y-1",children:[(0,F.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:M("admin.products.form.image_label")}),(0,F.jsxs)("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-4 text-center hover:border-primary transition-colors cursor-pointer group relative overflow-hidden h-48 flex flex-col items-center justify-center bg-gray-50",children:[de.image?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("img",{src:z(de.image),className:"absolute inset-0 w-full h-full object-cover",alt:"Preview"}),(0,F.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:(0,F.jsx)(l,{className:"text-white w-8 h-8"})})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(l,{className:"w-8 h-8 text-gray-300 mb-2"}),(0,F.jsx)("p",{className:"text-xs text-gray-400",children:M("admin.products.form.image_upload_text")})]}),(0,F.jsx)("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",accept:"image/*",onChange:(Ue=w((function*(e){var s;const a=null===(s=e.target.files)||void 0===s?void 0:s[0];if(!a)return;const r=new FileReader;r.onload=w((function*(){try{const{data:e}=yield A.post("/uploads",{dataUrl:r.result},W);le((s=>S(S({},s),{},{image:e.url})))}catch(e){}})),r.readAsDataURL(a)})),function(e){return Ue.apply(this,arguments)})})]}),(0,F.jsx)("input",{className:"w-full mt-2 px-4 py-2 text-xs bg-gray-50 border border-gray-200 rounded-xl outline-none",value:de.image,onChange:e=>le((s=>S(S({},s),{},{image:e.target.value}))),placeholder:M("admin.products.form.image_url_placeholder")})]})})]}),(0,F.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-100 flex gap-3",children:[(0,F.jsxs)("button",{type:"submit",className:"flex-1 bg-primary text-white py-3 rounded-xl font-bold hover:bg-primary/90 transition-colors shadow-lg shadow-rose-100 flex items-center justify-center gap-2",children:[ie?(0,F.jsx)(o,{className:"w-4 h-4"}):(0,F.jsx)(t,{className:"w-4 h-4"}),M(ie?"admin.products.form.update_btn":"admin.products.form.create_btn")]}),(0,F.jsx)("button",{type:"button",onClick:ke,className:"px-6 py-3 border border-gray-200 rounded-xl font-bold text-gray-500 hover:bg-gray-50 transition-colors",children:M("common.cancel")})]})]})]}),(0,F.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:(0,F.jsx)("div",{className:"overflow-x-auto",children:(0,F.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,F.jsx)("thead",{className:"bg-gray-50/80",children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.products.table.product")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.products.table.category")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.products.table.price")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.products.table.stock")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider text-right",children:M("admin.table.actions")})]})}),(0,F.jsx)("tbody",{className:"divide-y divide-gray-100",children:B.map((e=>{return(0,F.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[(0,F.jsx)("td",{className:"px-6 py-4",children:(0,F.jsx)("div",{children:(0,F.jsxs)("div",{className:"flex items-center gap-2",children:[(0,F.jsx)("img",{src:z(e.image),className:"w-12 h-12 rounded-lg object-cover bg-gray-100",alt:""}),(0,F.jsxs)("div",{children:[(0,F.jsx)("p",{className:"font-bold text-gray-900",children:_e(e).name}),(0,F.jsx)("p",{className:"text-xs text-gray-500 line-clamp-1 max-w-[200px]",children:_e(e).description})]})]})})}),(0,F.jsx)("td",{className:"px-6 py-4",children:(0,F.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium",children:(s=e.category,{Beauty:M("category.beauty"),Skincare:M("category.skincare"),Bodycare:M("category.bodycare"),Haircare:M("category.haircare"),Fragrance:M("category.fragrance"),Tools:M("category.tools"),Collection:M("category.collection")}[s]||s)})}),(0,F.jsx)("td",{className:"px-6 py-4 font-bold text-gray-900",children:L(e.price)}),(0,F.jsx)("td",{className:"px-6 py-4",children:(0,F.jsxs)("div",{className:"flex items-center gap-2",children:[(0,F.jsx)("div",{className:"w-2 h-2 rounded-full "+(e.countInStock>10?"bg-emerald-500":e.countInStock>0?"bg-amber-500":"bg-red-500")}),(0,F.jsxs)("span",{className:"text-sm text-gray-600",children:[e.countInStock," units"]})]})}),(0,F.jsx)("td",{className:"px-6 py-4 text-right",children:(0,F.jsxs)("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,F.jsx)("button",{onClick:()=>(e=>{var s,a,r,t;ne(e._id);const d=(Math.round(3.67*e.price*1e8)/1e8).toFixed(2);le({name:e.name,description:e.description,price:d,category:e.category,image:e.image,countInStock:e.countInStock,nameFr:(null===(s=e.translations)||void 0===s||null===(s=s.fr)||void 0===s?void 0:s.name)||"",descFr:(null===(a=e.translations)||void 0===a||null===(a=a.fr)||void 0===a?void 0:a.description)||"",nameAr:(null===(r=e.translations)||void 0===r||null===(r=r.ar)||void 0===r?void 0:r.name)||"",descAr:(null===(t=e.translations)||void 0===t||null===(t=t.ar)||void 0===t?void 0:t.description)||""}),te(!0)})(e),className:"p-2 text-gray-400 hover:text-primary hover:bg-rose-50 rounded-lg transition-colors",children:(0,F.jsx)(i,{className:"w-4 h-4"})}),(0,F.jsx)("button",{onClick:()=>Ae(e._id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,F.jsx)(x,{className:"w-4 h-4"})})]})})]},e._id);var s}))})]})})})]}),"orders"===O&&(0,F.jsx)("div",{className:"space-y-4 animate-in slide-in-from-bottom-4 duration-500",children:T.map((e=>{var s,a,r,t,l,i,n,o,c,m;return(0,F.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-md transition-shadow",children:[(0,F.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[(0,F.jsxs)("div",{className:"flex items-center gap-4",children:[(0,F.jsx)("div",{className:"bg-gray-50 p-3 rounded-xl",children:(0,F.jsx)(d,{className:"w-6 h-6 text-gray-400"})}),(0,F.jsxs)("div",{children:[(0,F.jsxs)("div",{className:"flex items-center gap-2",children:[(0,F.jsxs)("p",{className:"font-bold text-gray-900",children:[M("admin.orders.order")," #",e._id.slice(-8).toUpperCase()]}),(0,F.jsx)("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider "+(e.isPaid?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"),children:e.isPaid?M("admin.orders.status.paid"):M("admin.orders.status.unpaid")}),(0,F.jsx)("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider "+(e.isDelivered?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:e.isDelivered?M("admin.orders.status.delivered"):M("admin.orders.status.processing")})]}),(0,F.jsxs)("p",{className:"text-sm text-gray-500 mt-0.5",children:[M("admin.orders.customer_label"),": ",(0,F.jsx)("span",{className:"text-gray-900 font-medium",children:(null===(s=e.user)||void 0===s?void 0:s.name)||M("admin.orders.guest")})," â€¢ ",(null===(a=e.user)||void 0===a?void 0:a.email)||M("admin.orders.no_email")," â€¢ ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,F.jsxs)("div",{className:"text-right",children:[(0,F.jsx)("p",{className:"text-xl font-bold text-primary",children:L(e.totalPrice)}),(0,F.jsxs)("p",{className:"text-xs text-gray-400",children:[(null===(r=e.orderItems)||void 0===r?void 0:r.length)||0," ",M("admin.orders.items")]})]})]}),(0,F.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[(0,F.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,F.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase",children:M("admin.orders.customer")}),(0,F.jsxs)("p",{className:"text-sm text-gray-900",children:[(null===(t=e.user)||void 0===t?void 0:t.name)||M("admin.orders.guest")," â€¢ ",(null===(l=e.user)||void 0===l?void 0:l.email)||M("admin.orders.no_email")]})]}),(0,F.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,F.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase",children:M("admin.orders.shipping")}),(0,F.jsxs)("p",{className:"text-sm text-gray-700",children:[(null===(i=e.shippingAddress)||void 0===i?void 0:i.address)||"",(null===(n=e.shippingAddress)||void 0===n?void 0:n.city)?`, ${e.shippingAddress.city}`:"",(null===(o=e.shippingAddress)||void 0===o?void 0:o.postalCode)?` ${e.shippingAddress.postalCode}`:"",(null===(c=e.shippingAddress)||void 0===c?void 0:c.country)?`, ${e.shippingAddress.country}`:""]})]}),(0,F.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 md:col-span-2",children:[(0,F.jsx)("p",{className:"text-xs font-bold text-gray-500 uppercase",children:M("admin.orders.payment")}),(0,F.jsxs)("p",{className:"text-sm text-gray-700",children:[e.paymentMethod||M("admin.common.unknown"),(null===(m=e.paymentResult)||void 0===m?void 0:m.email_address)?` â€¢ ${e.paymentResult.email_address}`:""]})]})]}),(0,F.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-gray-50",children:[(0,F.jsx)("button",{onClick:()=>Ie(e._id,{isPaid:!e.isPaid}),className:"px-4 py-2 rounded-xl text-xs font-bold transition-all "+(e.isPaid?"bg-gray-100 text-gray-600":"bg-emerald-50 text-emerald-600 border border-emerald-200"),children:e.isPaid?M("admin.orders.mark_unpaid"):M("admin.orders.mark_paid")}),(0,F.jsx)("button",{onClick:()=>Ie(e._id,{isDelivered:!e.isDelivered}),className:"px-4 py-2 rounded-xl text-xs font-bold transition-all "+(e.isDelivered?"bg-gray-100 text-gray-600":"bg-blue-50 text-blue-600 border border-blue-200"),children:e.isDelivered?M("admin.orders.mark_undelivered"):M("admin.orders.mark_delivered")})]})]},e._id)}))}),"users"===O&&(0,F.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden animate-in slide-in-from-bottom-4 duration-500",children:(0,F.jsx)("div",{className:"overflow-x-auto",children:(0,F.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,F.jsx)("thead",{className:"bg-gray-50/80",children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.users.table.customer")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.users.table.role")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:M("admin.users.table.joined")}),(0,F.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider text-right",children:M("admin.users.table.actions")})]})}),(0,F.jsx)("tbody",{className:"divide-y divide-gray-100",children:G.map((e=>(0,F.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,F.jsx)("td",{className:"px-6 py-4",children:(0,F.jsxs)("div",{className:"flex items-center gap-3",children:[(0,F.jsx)("div",{className:"w-10 h-10 rounded-full bg-rose-100 flex items-center justify-center text-primary font-bold",children:e.name.charAt(0).toUpperCase()}),(0,F.jsxs)("div",{children:[(0,F.jsx)("p",{className:"font-bold text-gray-900",children:e.name}),(0,F.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]})]})}),(0,F.jsx)("td",{className:"px-6 py-4",children:(0,F.jsx)("span",{className:"px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider "+(e.isAdmin?"bg-primary text-white shadow-sm shadow-rose-200":"bg-gray-100 text-gray-600"),children:e.isAdmin?M("admin.users.role.administrator"):M("admin.users.role.customer")})}),(0,F.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,F.jsx)("td",{className:"px-6 py-4 text-right",children:(0,F.jsx)("button",{onClick:()=>Fe(e._id,!e.isAdmin),className:"text-xs font-bold text-primary hover:underline",children:e.isAdmin?M("admin.users.remove_admin"):M("admin.users.make_admin")})})]},e._id)))})]})})})]})]})]});var Ue,Le,Re};export{P as default};